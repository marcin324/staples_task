(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(24)},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),i=a(1),s=a(7),l=a(8),u=a(10),d=a(9),h=a(11),m=function(e){return r.a.createElement("div",{className:"cart_form"},r.a.createElement("form",null,r.a.createElement("label",null,"Quantity:"),r.a.createElement("input",{type:"number",value:e.activeInput,onChange:function(t){return e.handleNumberOfItems(t,e.product.id)}})),r.a.createElement("button",{onClick:function(){return e.handleAddToCart(e.product.id)}},"Add to cart"))},p=function(e){var t=""!==e.activeInput?e.activeInput:"",a=e.isActive?"show":"",n=e.isActive?"show":"",c=e.isActive?"btn_close":"",o=e.isActive?"img":"",i=e.product.general.description.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,"");return r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"product_item"},r.a.createElement("div",{className:"image_item img-thumbnail"},r.a.createElement("img",{onClick:function(){return e.handleShowModal(e.product.id)},src:e.product.images.primary.large,alt:e.product.general.name})),r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"btn_show_modal",onClick:function(){return e.handleShowModal(e.product.id)}},r.a.createElement("p",null,e.product.general.name)),r.a.createElement("p",null,"ID: ",e.product.general.presentable_id),r.a.createElement(m,{shoppingCart:e.shoppingCart,handleNumberOfItems:e.handleNumberOfItems,handleAddToCart:e.handleAddToCart,product:e.product,products:e.products,activeInput:t}))),r.a.createElement("div",{className:"overlay ".concat(n)},r.a.createElement("div",{className:"modal ".concat(a)},r.a.createElement("div",{className:"modal_content"},r.a.createElement("span",{className:"btn_hide ".concat(c),onClick:function(){return e.handleHideModal(e.product.id)}},"x"),r.a.createElement("div",{className:"image"},r.a.createElement("img",{className:"".concat(o),src:e.product.images.primary.large,alt:e.product.general.name})),r.a.createElement("p",null,e.product.brand.name),r.a.createElement("p",null,e.product.general.name),r.a.createElement("p",null,i),r.a.createElement("p",null,"ID: ",e.product.general.presentable_id),r.a.createElement(m,{shoppingCart:e.shoppingCart,handleNumberOfItems:e.handleNumberOfItems,handleAddToCart:e.handleAddToCart,product:e.product,products:e.products,activeInput:t})))))},v=function(e){var t=e.products.map(function(t){return r.a.createElement(p,{key:t.id,products:e.products,product:t,isActive:t.isActive,handleShowModal:e.handleShowModal,handleHideModal:e.handleHideModal,shoppingCart:e.shoppingCart,handleNumberOfItems:e.handleNumberOfItems,handleAddToCart:e.handleAddToCart,activeInput:t.activeInput})});return r.a.createElement("div",{className:"app"},t)},g=function(e){return r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("label",{htmlFor:"searchText"},"Search product:"),r.a.createElement("input",{placeholder:"search for anything",type:"text",id:"searchText",onChange:function(t){return e.handleSearchText(t)},value:e.searchText}),r.a.createElement("button",{onSubmit:function(t){return e.handleSubmit(t)}},"Search"),r.a.createElement("button",{onClick:e.onClick},"Show all")))},f=function(e){return r.a.createElement("div",{className:"cart"},r.a.createElement("div",{className:"cart_number"},e.shoppingCart,r.a.createElement("i",{class:"fas fa-shopping-cart"})))},C=a(2),b=a.n(C),E=(a(22),a(23),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handlePageChange=function(e){a.setState({activePage:e});var t=a.state.searchText;if(t.length<3){fetch("http://localhost:3005/products?_limit=140").then(function(e){return e.json()}).then(function(e){var t=a.state.activePage*a.itemsCountPerPage,n=t-a.itemsCountPerPage;a.setState({products:e.slice(n,t)})}).catch(function(e){return console.log(e)})}else{var n="http://localhost:3005/products?q=".concat(t,"&_limit=140");fetch(n).then(function(e){return e.json()}).then(function(e){var t=a.state.activePage*a.itemsCountPerPage,n=t-a.itemsCountPerPage;a.setState({products:e.slice(n,t)})})}},a.handleSearchText=function(e){a.setState({searchText:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.searchText;if(!(t.length<3)){var n="http://localhost:3005/products?q=".concat(t,"&_limit=140");fetch(n).then(function(e){return e.json()}).then(function(e){a.setState({searchProducts:e.length});var t=a.state.activePage*a.itemsCountPerPage,n=t-a.itemsCountPerPage;a.setState({products:e.slice(n,t),searchText:""})})}},a.handleShowModal=function(e){var t=Object(i.a)(a.state.products),n=t.filter(function(t){return t.id===e});n[0].isActive=!0;var r=n[0];t.slice(e,1,r),a.setState({products:t})},a.handleHideModal=function(e){var t=Object(i.a)(a.state.products),n=t.filter(function(t){return t.id===e});n[0].isActive="";var r=n[0];t.slice(e,1,r),a.setState({products:t})},a.handleNumberOfItems=function(e,t){var n=Object(i.a)(a.state.products),r=n.filter(function(e){return e.id===t});a.activeInput=e.target.value,r[0].activeInput=a.activeInput;var c=r[0];n.slice(t,1,c),a.setState({products:n})},a.handleAddToCart=function(e){if(a.activeInput&&!(a.activeInput<1)){var t=Object(i.a)(a.state.products),n=parseInt(a.activeInput);a.setState(function(e){return{shoppingCart:e.shoppingCart+n}});var r=t.filter(function(t){return t.id===e});a.activeInput="",r[0].activeInput=a.activeInput;var c=r[0];t.slice(e,1,c),a.setState({products:t})}},a.state={products:[],searchProducts:0,searchText:"",activePage:0,shoppingCart:0},a.activeInput="",a.isActive="",a.itemsCountPerPage=10,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3005/products?_limit=140").then(function(e){if(200===e.status)return e;throw Error(e.status)}).then(function(e){return e.json()}).then(function(t){e.setState({searchProducts:t.length,activePage:1});var a=e.state.activePage*e.itemsCountPerPage,n=a-e.itemsCountPerPage;e.setState({products:t.slice(n,a)})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.products;return r.a.createElement("div",null,r.a.createElement(g,{searchText:this.state.searchText,handleSubmit:this.handleSubmit,handleSearchText:this.handleSearchText,onClick:this.componentDidMount.bind(this)}),r.a.createElement(f,{shoppingCart:this.state.shoppingCart}),r.a.createElement(b.a,{activePage:this.state.activePage,itemsCountPerPage:this.itemsCountPerPage,totalItemsCount:this.state.searchProducts,pageRangeDisplayed:5,onChange:this.handlePageChange}),r.a.createElement(v,{products:e,handleShowModal:this.handleShowModal,handleHideModal:this.handleHideModal,shoppingCart:this.state.shoppingCart,handleNumberOfItems:this.handleNumberOfItems,handleAddToCart:this.handleAddToCart}),r.a.createElement(b.a,{activePage:this.state.activePage,itemsCountPerPage:this.itemsCountPerPage,totalItemsCount:this.state.searchProducts,pageRangeDisplayed:5,onChange:this.handlePageChange}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.38f38160.chunk.js.map